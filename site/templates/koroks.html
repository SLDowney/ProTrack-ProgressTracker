{% extends "layout.html" %}

{% block body %} 
    <h1>Koroks!</h1>
    <form id="add_korok" method="POST" action="/add_korok">
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" required><br>
        <label for="kType">Type:</label>
        <input type="text" id="kType" name="kType" required><br>
        <label for="coord_start">Coordinates Start:</label>
        <input type="text" id="coord_start" name="coord_start" required><br>
        <label for="coord_end">Coordinates End:</label>
        <input type="text" id="coord_end" name="coord_end"><br>
        <label for="description">Description:</label>
        <textarea id="description" name="description"></textarea><br>
        <label for="korok_found">Coordinates End:</label>
        <input type="checkbox" id="korok_found" name="korok_found" value="1" checked><br>
        <button type="submit">Add Korok</button>
    </form>

    <table id="koroks-table">
        <thead>
            <tr>
                <th><button id="sort-by-found-btn" onclick="sortKoroks('korok_found')">Found</button></th>
                <th><button id="sort-by-location-btn" onclick="sortKoroks('location_num')">Location/Num</button></th>
                <th><button id="sort-by-type-btn" onclick="sortKoroks('korok_type')">Type</button></th>
                <th><button id="sort-by-coord-btn" onclick="sortKoroks('korok_coord_start')">Start</button></th>
            </tr>
        </thead>
        <tbody id="koroks-body">
            {% for korok in koroks %}
            <tr>
                <td>
                    <input type="checkbox" name="korok_found_{{ korok[0] }}" value="1" {% if korok[1] == 1 %}checked{% endif %} onclick="updateKorok(this, korok[0])">
                </td>
                <td>
                    {% if korok['korok_num'] == None %}
                        {{ korok['korok_location'] }}
                    {% else %}
                        {{ korok['korok_location'] }} {{ korok['korok_num'] }}
                    {% endif %}
                </td>
                <td>{{ korok['korok_type'] }}</td>
                <td>
                    {{ korok['korok_coord_start'] }}
                    {% if korok['korok_coord_end'] is not none %}
                        <br>
                        {{ korok['korok_coord_end'] }}
                    {% endif %}
                </td>
                <td>{{ korok['korok_desc'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <script src="{{ url_for('static', filename='javascript_koroks.js') }}"></script>
{% endblock %}
