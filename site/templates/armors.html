{% extends "layout.html" %}

{% block body %} 

    <h2>{{ headline }}</h2>

    <div class="container greatfairies">
        <div class="row">
            <div class="col-sm-1">
                <input class="form-checkbox-input" type="checkbox" id="greatFairy_1" name="greatFairy_1" value="FALSE">
            </div>
            <div class="col-sm-11">
                <label class="form-checkbox-label greatfairy" for="greatFairy_1">Great Fairy 1</label>
            </div> 
        </div>
        <div class="row">
            <div class="col-sm-1">
                <input class="form-checkbox-input" type="checkbox" id="greatFairy_2" name="greatFairy_2" value="FALSE">
            </div>
            <div class="col-sm-11">
                <label class="form-checkbox-label greatfairy" for="greatFairy_2">Great Fairy 2</label>
            </div> 
        </div>
        <div class="row">
            <div class="col-sm-1">
                <input class="form-checkbox-input" type="checkbox" id="greatFairy_3" name="greatFairy_3" value="FALSE">
            </div>
            <div class="col-sm-11">
                <label class="form-checkbox-label greatfairy" for="greatFairy_3">Great Fairy 3</label>
            </div> 
        </div>
        <div class="row">
            <div class="col-sm-1">
                <input class="form-checkbox-input" type="checkbox" id="greatFairy_4" name="greatFairy_4" value="FALSE">
            </div>
            <div class="col-sm-11">
                <label class="form-checkbox-label greatfairy" for="greatFairy_4">Great Fairy 4</label>
            </div>                        
        </div>
    </div>
    <br>
    <form id="armor-form" method="POST" action="/armors/update">
        <div class="container">
            {% set grouped_armors = {} %}
            {% for armor in armors %}
                {% set set_name = armor[1] %}
                {% if set_name not in grouped_armors %}
                    {% set _ = grouped_armors.update({set_name: [armor]}) %}
                {% else %}
                    {% set _ = grouped_armors[set_name].append(armor) %}
                {% endif %}
            {% endfor %}
    
            {% for set_name, armor_list in grouped_armors.items() %}
                <div class="row">
                    <div class="col-sm-12" id="armor_set">{{ set_name }}</div>
                    {% for armor in armor_list %}
                        <div class="col-sm-4">
                            <div class="">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="1" id="have_{{ armor[0] }}_helm" name="have_{{ armor[0] }}_helm" {% if armor[2] == 1 %}checked{% endif %} >
                                    <label class="form-check-label" for="have_{{ armor[0] }}_helm">Helm</label>
                                </div>                        
                            </div>                    
                        </div>
                        <div class="col-sm-4">
                            <div class="">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="1" id="have_{{ armor[0] }}_chest" name="have_{{ armor[0] }}_chest" {% if armor[3] == 1 %}checked{% endif %} >
                                    <label class="form-check-label" for="have_{{ armor[0] }}_chest">Chest</label>
                                </div>                        
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="1" id="have_{{ armor[0] }}_pants" name="have_{{ armor[0] }}_pants" {% if armor[4] == 1 %}checked{% endif %} >
                                    <label class="form-check-label" for="have_{{ armor[0] }}_pants">Pants</label>
                                </div>                        
                            </div>
                        </div>
                        <input type="hidden" name="{{ armor[0] }}" value="{{ armor[0] }}">
                    {% endfor %}
                    <div class="col-sm-12" id="armor_update_button">
                        <button type="submit" class="btn btn-block custom-btn">submit</button>
                    </div>
                </div>
            {% endfor %}
        </div>
    </form>
    
    

    <script src="{{ url_for('static', filename='armors.js') }}"></script>

{% endblock %}
