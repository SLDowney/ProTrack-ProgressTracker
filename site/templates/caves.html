{% extends "layout.html" %}

{% block body %} 
    <h2>{{ headline }}</h2>

    <form id="caveform" action="{{ url_for('caves') }}" method="POST" enctype="multipart/form-data">
        <div class="row">
            <table style="width: 100%;">
                <colgroup>
                    <col span="1">
                    <col span="2">
                </colgroup>
                
                {% for result in results %}
                    <tbody>
                        <tr>
                            <th>Info</th>
                            <th>Cave Info</th>
                        </tr>

                        {% if result[0] == 2 %}
                        <tr>
                            <td>Name</td>
                            <td>{{result[1]}}</td>
                        </tr>
                        <tr>
                            <td>Coordinates</td>
                            <td>{{result[2]}}</td>
                        </tr>
                        <tr>
                            <td>Region</td>
                            <td>{{result[3]}}</td>
                        </tr>
                        <tr>
                            <td>Bubbulfrog</td>
                            <td>{{result[4]}}</td>
                        </tr>
                        {% if result[5] != None %}
                        <tr>
                            <td>Shrine</td>
                            <td>{{result[5]}}</td>
                        </tr>
                        {% else %}
                        {% endif %}
                        {% if result[6] != None and result[10] != ""  %}
                        <tr>
                            <td>Enemies</td>
                            <td>{{result[6]}}</td>
                        </tr>
                        {% else %}
                        {% endif %}
                        <tr>
                            <td>Treasure</td>
                            <td>{{result[7]}}</td>
                        </tr>
                        {% if result[8] != None and result[10] != ""  %}
                        <tr>
                            <td>Side Quest</td>
                            <td>{{result[8]}}</td>
                        </tr>
                        {% else %}
                        {% endif %}
                        {% if result[9] != None and result[10] != ""  %}
                        <tr>
                            <td>Shrine Quest</td>
                            <td>{{result[9]}}</td>
                        </tr>
                        {% else %}
                        {% endif %}
                        {% if result[10] != None and result[10] != "" %}
                        <tr>
                            <td>Prerequisites</td>
                            <td>{{result[10]}}</td>
                        </tr>    
                        {% else %}
                        {% endif %}
                        {% elif result[0] == 1 %}
                        <tr>
                            <td>Name</td>
                            <td>{{result[1]}}</td>
                        </tr>
                        <tr>
                            <td>Coordinates</td>
                            <td>{{result[2]}}</td>
                        </tr>
                        <tr>
                            <td>Region</td>
                            <td>{{result[3]}}</td>
                        </tr>
                        
                        {% elif result[0] == 0 %}
                        <tr>
                            <td>Name</td>
                            <td>{{result[1]}}</td>
                        </tr>
                        {% endif %}

                    <tr>
                        <td>Status</td>
                        <td>
                            <input type="radio" id="undone_{{ result[1] }}" name="done_cave_{{ result[1] }}" value="0" {% if result[0] == 0 %}checked{% endif %}><label class="cave_radio_labels" for="undone_{{ result[1] }}">Unfound</label>
                            <input type="radio" id="found_{{ result[1] }}"name="done_cave_{{ result[1] }}" value="1" {% if result[0] == 1 %}checked{% endif %}><label class="cave_radio_labels" for="found_{{ result[1] }}">Found</label>
                            <input type="radio" id="done_{{ result[1] }}"name="done_cave_{{ result[1] }}" value="2" {% if result[0] == 2 %}checked{% endif %}><label class="cave_radio_labels" for="done_{{ result[1] }}">Completed</label>
                            <input type="submit" id="CaveSubmit" value="Update">
                        </td>
                    </tr>

                    {% endfor %}

                </tbody>
            </table>
        </div>
    </form>
{% endblock %}
